
<!DOCTYPE html>
<html lang='ja'>
<head>
<meta charset='utf-8'>
<link rel="shortcut icon" href="..\pic\o.ico">
<link rel='apple-touch-icon-precomposed' href='..\pic\o.png'>
<link rel='stylesheet' href='..\css\code.css'>
<title>ソースコード</title>
</head>
<body class='back'>
<h1>
.pyを.exeにビルドする
</h1>
<div class='a0'>
<a href='..\apps.html' class='a2'>
戻る
</a>
</div>
<div class='main'>
<p>
<br>import&ensp;tkinter&ensp;as&ensp;t
<br>import&ensp;pyautogui&ensp;as&ensp;g
<br>import&ensp;time
<br>
<br>boo&ensp;=&ensp;True
<br>
<br>def&ensp;opn(event):
<br>&ensp;&ensp;&ensp;&ensp;lnk&ensp;=&ensp;ent0.get()
<br>&ensp;&ensp;&ensp;&ensp;g.hotkey('win','r')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.5)
<br>&ensp;&ensp;&ensp;&ensp;g.write('cmd')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(1)
<br>&ensp;&ensp;&ensp;&ensp;g.write('explorer&ensp;'+lnk)
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;
<br>def&ensp;bld(event):
<br>&ensp;&ensp;&ensp;&ensp;cdr&ensp;=&ensp;ent0.get()
<br>&ensp;&ensp;&ensp;&ensp;fil&ensp;=&ensp;ent1.get()
<br>&ensp;&ensp;&ensp;&ensp;ex&ensp;=&ensp;cdr
<br>&ensp;&ensp;&ensp;&ensp;if&ensp;cdr[0]&ensp;==&ensp;"\"":
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;ex&ensp;=&ensp;ex[1:-1]
<br>&ensp;&ensp;&ensp;&ensp;filename&ensp;=&ensp;''
<br>&ensp;&ensp;&ensp;&ensp;inf&ensp;=&ensp;fil[::-1][4:]
<br>&ensp;&ensp;&ensp;&ensp;for&ensp;i&ensp;in&ensp;inf:
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if&ensp;i&ensp;!=&ensp;'\\':
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;filename&ensp;+=&ensp;i
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;else:
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;filename&ensp;=&ensp;filename[::-1]
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;break
<br>&ensp;&ensp;&ensp;&ensp;filink&ensp;=&ensp;ex+'\\dist\\'+filename+'\\'+filename+'.exe'
<br>&ensp;&ensp;&ensp;&ensp;uwa&ensp;=&ensp;val0.get()
<br>&ensp;&ensp;&ensp;&ensp;cos&ensp;=&ensp;val1.get()
<br>&ensp;&ensp;&ensp;&ensp;onf&ensp;=&ensp;val2.get()
<br>&ensp;&ensp;&ensp;&ensp;stt&ensp;=&ensp;val3.get()
<br>&ensp;&ensp;&ensp;&ensp;out0&ensp;=&ensp;'cd&ensp;'+cdr
<br>&ensp;&ensp;&ensp;&ensp;out1&ensp;=&ensp;'pyinstaller&ensp;'+fil
<br>&ensp;&ensp;&ensp;&ensp;out2&ensp;=&ensp;''
<br>&ensp;&ensp;&ensp;&ensp;if&ensp;not&ensp;cos:&ensp;out1&ensp;+=&ensp;'&ensp;--noconsole'
<br>&ensp;&ensp;&ensp;&ensp;if&ensp;onf:&ensp;out1&ensp;+=&ensp;'&ensp;--onefile'
<br>&ensp;&ensp;&ensp;&ensp;if&ensp;stt:&ensp;out2&ensp;=&ensp;'start&ensp;'+filink
<br>&ensp;&ensp;&ensp;&ensp;
<br>&ensp;&ensp;&ensp;&ensp;g.hotkey('win','r')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.5)
<br>&ensp;&ensp;&ensp;&ensp;g.write('cmd')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(1)
<br>&ensp;&ensp;&ensp;&ensp;
<br>&ensp;&ensp;&ensp;&ensp;g.write(out0)
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.5)
<br>&ensp;&ensp;&ensp;&ensp;
<br>&ensp;&ensp;&ensp;&ensp;g.write(out1)
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.5)
<br>&ensp;&ensp;&ensp;&ensp;
<br>&ensp;&ensp;&ensp;&ensp;if&ensp;uwa:
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;time.sleep(1)
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;g.write('y')
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;time.sleep(0.5)
<br>&ensp;&ensp;&ensp;&ensp;if&ensp;stt:
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;time.sleep(2)
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;g.write(out2)
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;time.sleep(0.5)
<br>&ensp;&ensp;&ensp;&ensp;
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(1)
<br>&ensp;&ensp;&ensp;&ensp;g.write('exit')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.1)
<br>&ensp;&ensp;&ensp;&ensp;g.press('enter')
<br>&ensp;&ensp;&ensp;&ensp;time.sleep(0.5)
<br>
<br>app&ensp;=&ensp;t.Tk()
<br>app.title('Python&ensp;build&ensp;for&ensp;exe')
<br>app.geometry('723x250')
<br>lab0&ensp;=&ensp;t.Label(text='展開するフォルダ&ensp;&gt;')
<br>lab0.place(x=10,y=20)
<br>ent0&ensp;=&ensp;t.Entry()
<br>ent0.place(x=130,y=22,width=500)
<br>btn0&ensp;=&ensp;t.Button(text=u'開いてみる',background='#D0D0D0')
<br>btn0.place(x=633,y=21,height=25)
<br>btn0.bind('&lt;Button-1&gt;',opn)
<br>
<br>lab1&ensp;=&ensp;t.Label(text='ビルドするファイル&ensp;&gt;')
<br>lab1.place(x=10,y=70)
<br>ent1&ensp;=&ensp;t.Entry()
<br>ent1.place(x=130,y=72,width=500)
<br>
<br>val0&ensp;=&ensp;t.BooleanVar()
<br>val0.set(False)
<br>chk0&ensp;=&ensp;t.Checkbutton(text=u'上書き',variable=val0)
<br>chk0.place(x=125,y=115)
<br>val1&ensp;=&ensp;t.BooleanVar()
<br>val1.set(False)
<br>chk1&ensp;=&ensp;t.Checkbutton(text=u'コンソールあり',variable=val1)
<br>chk1.place(x=220,y=115)
<br>val2&ensp;=&ensp;t.BooleanVar()
<br>val2.set(False)
<br>chk2&ensp;=&ensp;t.Checkbutton(text=u'１ファイルにまとめる',variable=val2)
<br>chk2.place(x=350,y=115)
<br>val3&ensp;=&ensp;t.BooleanVar()
<br>val3.set(True)
<br>chk3&ensp;=&ensp;t.Checkbutton(text=u'ビルド後に実行',variable=val3)
<br>chk3.place(x=515,y=115)
<br>
<br>btn1&ensp;=&ensp;t.Button(text=u'ビルド開始',background='#DFEFDF')
<br>btn1.place(x=130,y=165,width=500,height=60)
<br>btn1.bind('&lt;Button-1&gt;',bld)
<br>
<br>app.mainloop()

</p>
</div>
<script src='../count/count.php'></script>
</body>
</html>
